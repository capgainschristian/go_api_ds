#Start the app
docker compose up

#How to shell into the container
docker compose run --service-ports web bash

#Running app from the container
go run cmd/main.go -b 0.0.0.0

# Get into your sql container to run queries directly
docker exec -it go_api_ds-db-1 psql -U capgainschristian -d customers
# Once in, run the following command:
customers=# SELECT * FROM customers;

#Delete everything
docker system prune -f && \
docker volume rm $(docker volume ls -q --filter dangling=true)

#Retrieve list of customers
curl http://localhost:3000/listcustomers

#Send post request
curl --header "Content-Type: application/json" \
  --request POST \
  --data '{"name":"Christian Graham,","email":"christian.graham@grahamsummitllc.com","address":"777 Summit LLC Drive","number":2222}' \
  http://localhost:3000/addcustomer


#Delete user
curl --header "Content-Type: application/json" \
  --request DELETE \
  --data '{"email":"christian.graham@grahamsummitllc.com"}' \
  http://localhost:3000/deletecustomer


#Update user
curl -X PUT http://localhost:3000/updatecustomer \
     -H "Content-Type: application/json" \
     -d '{
           "email": "christian.graham@grahamsummitllc.com",
           "name": "Christian Graham",
           "address": "888 Summit LLC Drive",
		   "number": 1111
         }'

curl -X PUT http://localhost:3000/updatecustomer \
-H "Content-Type: application/json" \
-d '{
	"email": "christian.graham@grahamsummitllc.com",
	"name": "Alexander Graham"
	}'